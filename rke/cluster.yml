nodes:
  - address: 10.0.1.10
    user: ubuntu
    role:
      - controlplane
      - etcd
      - worker
  - address: 10.0.2.196
    user: ubuntu
    role:
      - controlplane
      - etcd
      - worker
  - address: 10.0.3.89
    user: ubuntu
    role:
      - controlplane
      - etcd
      - worker

ignore_docker_version: false

ssh_key_path: ./rke

bastion_host:
  address: ec2-3-140-195-66.us-east-2.compute.amazonaws.com
  user: ubuntu
  port: 22
  ssh_key_path: ./rke

cluster_name: rancher.prod.goldenhippo.com

kubernetes_version: v1.19.7-rancher1-1

services:
  etcd:
    backup_config:
      enabled: true
      interval_hours: 6
      retention: 60
      s3backupconfig:
        bucket_name: "rancher-backup-yr2272v3"
        folder: "etcd"
        endpoint: "s3.us-east-2.amazonaws.com"
        region: "us-east-2"
    extra_args:
      data-dir: '/var/lib/rancher/etcd/data'
      wal-dir: '/var/lib/rancher/etcd/wal/wal_dir'
    extra_binds:
      - '/var/lib/etcd/data:/var/lib/rancher/etcd/data'
      - '/var/lib/etcd/wal:/var/lib/rancher/etcd/wal'

authorization:
  mode: rbac

cloud_provider:
  name: aws

network:
  plugin: calico
  options:
    calico_cloud_provider: aws

dns:
  provider: coredns

ingress:
  provider: nginx
